Validation report for ogc.sosa.features.observationCollection - SOSA ObservationCollection Feature
Generated 2026-01-13T22:39:33.034842+00:00
=== General ===
Test was expected to fail and it did.
=== End General ===

=== Files ===
Using observationCollection-props-fail.json from test resources
JSON-LD context is present - uplifting
Output JSON-LD observationCollection-props-fail.jsonld created
Output Turtle observationCollection-props-fail.ttl created
=== End Files ===

=== JSON Schema ===
Validation passed
=== End JSON Schema ===

=== SHACL ===

** Validation error **
Validation result for _sources/properties/observation/shapes.shacl:
  Validation Report
  Conforms: False
  Results (2):
  Constraint Violation in SPARQLConstraintComponent (http://www.w3.org/ns/shacl#SPARQLConstraintComponent):
  	Severity: sh:Violation
  	Source Shape: <https://www.ogc.org/rules/sosa/#testObservedPropertyConsistent>
  	Focus Node: <file:///github/workspace/c1>
  	Value Node: Literal("")
  	Result Path: sosa:observedProperty
  	Source Constraint: [ sh:message Literal("Collection members must match sosa:observedProperty if present") ; sh:select Literal("
              PREFIX sh: <http://www.w3.org/ns/shacl#>
              PREFIX sosa: <http://www.w3.org/ns/sosa/>
              PREFIX geojson: <https://purl.org/geojson/vocab#>
              SELECT $this (sosa:observedProperty as ?path) (GROUP_CONCAT(?prop; separator=';') AS ?value)
               WHERE {
                  OPTIONAL { $this sosa:observedProperty ?prop }
                  OPTIONAL { $this (sosa:hasMember|geojson:features)+ ?obs .
                      ?obs  sosa:observedProperty ?prop }
              }
              GROUP BY ?prop
              HAVING (count(?prop) < 1)
          ") ]
  	Message: Collection members must match sosa:observedProperty if present
  Constraint Violation in SPARQLConstraintComponent (http://www.w3.org/ns/shacl#SPARQLConstraintComponent):
  	Severity: sh:Violation
  	Source Shape: <https://www.ogc.org/rules/sosa/#testObservedPropertyPresent>
  	Focus Node: <file:///github/workspace/pop1999>
  	Value Node: Literal("")
  	Result Path: sosa:observedProperty
  	Source Constraint: [ sh:message Literal("sosa:observedProperty is required") ; sh:select Literal("
              PREFIX sh: <http://www.w3.org/ns/shacl#>
              PREFIX sosa: <http://www.w3.org/ns/sosa/>
              PREFIX geojson: <https://purl.org/geojson/vocab#>
              SELECT $this (sosa:observedProperty as ?path) (GROUP_CONCAT(?prop; separator=';') AS ?value)
              WHERE {
                  OPTIONAL { $this sosa:observedProperty ?prop .
                   $this (sosa:hasResult|sosa:hasSimpleResult) ?result_so_observation }
                  OPTIONAL { ?collection (sosa:hasMember|geojson:features)+ $this ; sosa:observedProperty ?prop }
              }
              GROUP BY ?prop
              HAVING (count(?prop) < 1)
          ") ]
  	Message: sosa:observedProperty is required
  
Focus nodes for _sources/properties/observation/shapes.shacl:
 - Shape <https://www.ogc.org/rules/sosa/#testObservedPropertyConsistent>: <file:///github/workspace/c1>
 - Shape <https://www.ogc.org/rules/sosa/#testResult>: *none*
 - Shape <https://www.ogc.org/rules/sosa/#testFeatureOfInterest>: *none*
 - Shape <https://www.ogc.org/rules/sosa/#testResultNotEmptyNode>: *none*
 - Shape <https://www.ogc.org/rules/sosa/#testSimpleResultLiteral>: <file:///github/workspace/pop1999>/sosa:hasSimpleResult
 - Shape <https://www.ogc.org/rules/sosa/#testObservedPropertyPresent>: <file:///github/workspace/pop1999>
 - Shape <https://www.ogc.org/rules/sosa/#testCollectionPropertyValues>: <file:///github/workspace/c1>
 - Shape <https://www.ogc.org/rules/sosa/#testRequiredTime>: *none*
 - Shape <https://www.ogc.org/rules/sosa/#testCollectionPropertyValuesInterval>: <file:///github/workspace/c1>

=== End SHACL ===

=== Semantic Uplift ===
Running post-uplift shacl transform step from ../observation/semantic-uplift/featureType.shacl
=== End Semantic Uplift ===

