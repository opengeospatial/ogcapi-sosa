Validation report for ogc.unstable.sosa.examples.vectorObservationFeature - Example SOSA Vector Observation Feature
Generated 2023-10-20T13:26:50.473492+00:00
=== Files ===
Using example_1_1.json from examples
JSON-LD context is present - uplifting
Output JSON-LD example_1_1.jsonld created
Output Turtle example_1_1.ttl created
=== End ValidationReportSection.FILES ===

=== JSON Schema ===
Validation passed
=== End ValidationReportSection.JSON_SCHEMA ===

=== SHACL ===
Using SHACL files for validation:
 - _sources/properties/observation/rules.shacl
 - _sources/features/observationCollection/rules.shacl
 - _sources/examples/vectorObservationFeature/rules.shacl

** Validation error **
Validation Report
Conforms: False
Results (1):
Constraint Violation in SPARQLConstraintComponent (http://www.w3.org/ns/shacl#SPARQLConstraintComponent):
	Severity: sh:Violation
	Source Shape: <http://example.com/rulestestInCollectionOrMember-observedProperty>
	Focus Node: <http://example.com/features/vector-obs-1>
	Value Node: <http://example.com/features/vector-obs-1>
	Result Path: sosa:observedProperty
	Source Constraint: [ <http://www.w3.org/ns/shacl#prefixes:> <http://www.w3.org/ns/sosa/> ; rdf:type sh:SPARQLConstraint ; sh:message Literal("Observations must either declare required properties or be a member of a collection hierarchy that declares them,") ; sh:select Literal("
        PREFIX dct: <http://purl.org/dc/terms/>
PREFIX rdfs:    <http://www.w3.org/2000/01/rdf-schema#>
prefix sosa:    <http://www.w3.org/ns/sosa/>

                SELECT $this ?path ?total
        WHERE {
  			BIND ( sosa:observedProperty as ?path )
           {
            SELECT $this ?path ( SUM(?count) as ?total )
            WHERE {
                      {
                          SELECT $this ?coll ?path ( COUNT(?prop1) AS ?count )
                          WHERE
                          {
                              ?coll sosa:hasMember* $this .
                              BIND ( sosa:observedProperty as ?path )
                              OPTIONAL { ?coll  ?path ?prop1 }
                          }
                          GROUP BY $this ?coll ?path
                       }

             }
              GROUP BY $this ?path
          }
          FILTER (?total = 0 )
	}

        ") ]
	Message: Observations must either declare required properties or be a member of a collection hierarchy that declares them,

Focus nodes:
 - Shape <http://example.com/rules#testFeatureOfInterest>: *none*
 - Shape :testInCollectionOrMember-foi: <http://example.com/features/vector-obs-1>
 - Shape <http://example.com/rules#testVectorObservationFeatureHasOneGeometry>: <http://example.com/features/vector-obs-1>
 - Shape <http://example.com/rules#testResult>: *none*
 - Shape <http://example.com/rules#testObservedProperty>: *none*
 - Shape <http://example.com/rules#testRequiredTime>: *none*
 - Shape :testInCollectionOrMember-observedProperty: <http://example.com/features/vector-obs-1>
 - Shape <http://example.com/rules#testGeometryCoordinatesIsList>: <http://example.com/features/vector-obs-1>/geojson:geometry
 - Shape <http://example.com/rules#testGeometryHasCoordinates>: <http://example.com/features/vector-obs-1>/geojson:geometry
 - Shape <http://example.com/rules#testResult>/sh:property (path _:ndac87fc4548f45edb6e0d0660cc40ffcb32): *none*
 - Shape <http://example.com/rules#testVectorObservationFeatureHasOneGeometry>/sh:property (path geojson:geometry): *none*
 - Shape <http://example.com/rules#testObservedProperty>/sh:property (path _:ndac87fc4548f45edb6e0d0660cc40ffcb19): *none*
 - Shape <http://example.com/rules#testGeometryHasCoordinates>/sh:property (path geojson:coordinates): *none*
 - Shape <http://example.com/rules#testRequiredTime>/sh:or/rdf:rest/rdf:first (path _:ndac87fc4548f45edb6e0d0660cc40ffcb11): *none*
 - Shape <http://example.com/rules#testFeatureOfInterest>/sh:property (path _:ndac87fc4548f45edb6e0d0660cc40ffcb29): *none*
 - Shape <http://example.com/rules#testRequiredTime>/sh:or/rdf:first (path _:ndac87fc4548f45edb6e0d0660cc40ffcb5): *none*

=== End ValidationReportSection.SHACL ===

