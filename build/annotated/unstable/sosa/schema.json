{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Sensor, Observation, Sample, and Actuator (SOSA)",
  "anyOf": [
    {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "description": "Example SOSA Vector Observation",
      "allOf": [
        {
          "$ref": "properties/observation/schema.yaml"
        },
        {
          "type": "object",
          "properties": {
            "hasResult": {
              "properties": {
                "pose": {
                  "$ref": "https://opengeospatial.github.io/bblocks/annotated-schemas/geo/geopose/basic-ypr/schema.yaml"
                },
                "distance": {
                  "type": "number",
                  "x-jsonld-id": "http://example.com/properties/distance",
                  "x-jsonld-type": "http://www.w3.org/2001/XMLSchema#float"
                }
              }
            }
          },
          "required": [
            "hasResult"
          ],
          "not": {
            "required": [
              "hasSimpleResult"
            ]
          }
        }
      ]
    },
    {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "description": "Example SOSA Vector Observation",
      "allOf": [
        {
          "$ref": "features/observation/schema.yaml"
        },
        {
          "type": "object",
          "properties": {
            "properties": {
              "$ref": "examples/vectorObservation/schema.yaml"
            }
          }
        }
      ]
    },
    {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "description": "SOSA Observation Feature",
      "type": "object",
      "allOf": [
        {
          "$ref": "https://opengeospatial.github.io/bblocks/annotated-schemas/geo/features/feature/schema.yaml"
        },
        {
          "type": "object",
          "properties": {
            "properties": {
              "$ref": "properties/observation/schema.yaml"
            }
          }
        }
      ],
      "x-jsonld-prefixes": {
        "sosa": "http://www.w3.org/ns/sosa/",
        "ssn": "http://www.w3.org/ns/ssn/",
        "ssn-system": "http://www.w3.org/ns/ssn/systems/"
      }
    },
    {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "description": "SOSA Observation",
      "type": "object",
      "properties": {
        "hasResult": {
          "x-jsonld-id": "http://www.w3.org/ns/sosa/hasResult"
        },
        "hasSimpleResult": {
          "x-jsonld-id": "http://www.w3.org/ns/sosa/hasSimpleResult"
        },
        "resultTime": {
          "type": "string",
          "format": "date-time",
          "x-jsonld-id": "http://www.w3.org/ns/sosa/resultTime"
        },
        "phenomenonTime": {
          "type": [
            "object",
            "string"
          ],
          "x-jsonld-id": "http://www.w3.org/ns/sosa/phenomenonTime"
        },
        "hasFeatureOfInterest": {
          "type": [
            "object",
            "string"
          ],
          "x-jsonld-id": "http://www.w3.org/ns/sosa/hasFeatureOfInterest",
          "x-jsonld-type": "@id"
        },
        "observedProperty": {
          "type": [
            "object",
            "string"
          ],
          "x-jsonld-id": "http://www.w3.org/ns/sosa/observedProperty"
        },
        "usedProcedure": {
          "type": [
            "object",
            "string"
          ],
          "x-jsonld-id": "http://www.w3.org/ns/sosa/usedProcedure",
          "x-jsonld-type": "@id"
        },
        "madeBySensor": {
          "type": [
            "object",
            "string"
          ],
          "x-jsonld-id": "http://www.w3.org/ns/sosa/madeBySensor",
          "x-jsonld-type": "@id"
        }
      },
      "required": [
        "resultTime",
        "hasFeatureOfInterest"
      ],
      "oneOf": [
        {
          "required": [
            "hasResult"
          ]
        },
        {
          "required": [
            "hasSimpleResult"
          ]
        }
      ],
      "x-jsonld-prefixes": {
        "sosa": "http://www.w3.org/ns/sosa/",
        "ssn": "http://www.w3.org/ns/ssn/",
        "ssn-system": "http://www.w3.org/ns/ssn/systems/"
      }
    },
    {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "description": "SOSA ObservationCollection",
      "type": "object",
      "properties": {
        "observations": {
          "$ref": "properties/observation/schema.yaml"
        }
      },
      "anyOf": [
        {
          "required": [
            "resultTime"
          ]
        },
        {
          "required": [
            "phenomenonTime"
          ]
        },
        {
          "required": [
            "hasFeatureOfInterest"
          ]
        },
        {
          "required": [
            "observedProperty"
          ]
        },
        {
          "required": [
            "usedProcedure"
          ]
        }
      ],
      "not": {
        "anyOf": [
          {
            "required": [
              "hasResult"
            ]
          },
          {
            "required": [
              "hasSimpleResult"
            ]
          }
        ]
      },
      "x-jsonld-prefixes": {
        "sosa": "http://www.w3.org/ns/sosa/",
        "ssn": "http://www.w3.org/ns/ssn/",
        "ssn-system": "http://www.w3.org/ns/ssn/systems/"
      }
    }
  ]
}